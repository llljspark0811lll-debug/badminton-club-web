datasource db {

  provider  = "postgresql"

  url       = env("DATABASE_URL")

  directUrl = env("DIRECT_URL")

}



generator client {

  provider = "prisma-client-js"

}



model Admin {

  id        Int       @id @default(autoincrement())

  username  String    @unique

  password  String

  createdAt DateTime  @default(now())

  custom1Label String @default("차량번호")


  members   Member[]

}



model Member {

  id        Int      @id @default(autoincrement())

  name      String

  gender    String 

  birth     String

  phone     String

  carnumber String   @default("")

  level     String

  note      String

  fees      Fee[]

  createdAt DateTime @default(now())

  deleted   Boolean  @default(false)



  adminId   Int

  admin     Admin    @relation(fields: [adminId], references: [id])

}



model Fee {

  id        Int     @id @default(autoincrement())

  memberId  Int

  year      Int

  month     Int

  paid      Boolean @default(false)



  member Member @relation(fields: [memberId], references: [id], onDelete: Cascade)



  @@unique([memberId, year, month])

}

